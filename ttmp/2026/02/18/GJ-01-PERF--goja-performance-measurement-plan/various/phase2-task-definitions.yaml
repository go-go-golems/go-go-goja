phase: phase-2
generated_at: "2026-02-18T14:29:03Z"
tasks:
    - id: p2-value-conversion
      title: Value Conversion
      description: Measure Runtime.ToValue / Value.Export / ExportTo conversion overhead.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^BenchmarkValueConversion$
        - -count
        - "3"
        - -benchtime
        - 250ms
        - -benchmem
        - -timeout
        - 20m
      flags:
        bench: ^BenchmarkValueConversion$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 250ms
        count: "3"
        run: ^$
        timeout: 20m
      benchmarks:
        - name: BenchmarkValueConversion
          description: Measure conversion overhead between Go values and goja values across primitive, map, nested, export, and export-to paths.
    - id: p2-payload-sweep
      title: Payload Sweep
      description: Measure boundary-call behavior across tiny/medium/large payloads.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^BenchmarkPayloadSweep$
        - -count
        - "3"
        - -benchtime
        - 250ms
        - -benchmem
        - -timeout
        - 20m
      flags:
        bench: ^BenchmarkPayloadSweep$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 250ms
        count: "3"
        run: ^$
        timeout: 20m
      benchmarks:
        - name: BenchmarkPayloadSweep
          description: Compare payload transfer overhead across tiny/medium/large payloads and multiple bridge strategies.
    - id: p2-gc-sensitivity
      title: GC Sensitivity
      description: Measure runtime spawn/reuse behavior under allocation-heavy scripts.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^BenchmarkGCSensitivity$
        - -count
        - "3"
        - -benchtime
        - 250ms
        - -benchmem
        - -timeout
        - 20m
      flags:
        bench: ^BenchmarkGCSensitivity$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 250ms
        count: "3"
        run: ^$
        timeout: 20m
      benchmarks:
        - name: BenchmarkGCSensitivity
          description: Measure allocation-heavy behavior under spawn/reuse strategies with and without periodic GC pressure.

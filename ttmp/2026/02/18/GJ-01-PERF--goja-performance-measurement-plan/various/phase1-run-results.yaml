phase: phase-1
generated_at: "2026-02-18T15:14:13Z"
repo_root: .
plan:
    - id: p1-runtime-lifecycle
      title: Runtime Lifecycle
      description: Measure VM spawn and spawn+execute/reuse behavior.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkRuntimeSpawn|BenchmarkRuntimeSpawnAndExecute|BenchmarkRuntimeReuse)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      flags:
        bench: ^(BenchmarkRuntimeSpawn|BenchmarkRuntimeSpawnAndExecute|BenchmarkRuntimeReuse)$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 200ms
        count: "3"
        run: ^$
        timeout: 15m
      benchmarks:
        - name: BenchmarkRuntimeSpawn
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
        - name: BenchmarkRuntimeSpawnAndExecute
          description: Measure cost of creating a runtime and immediately executing one script/program.
        - name: BenchmarkRuntimeReuse
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
    - id: p1-loading-require
      title: Loading and Require
      description: Measure JS compile/load cost and require cold/warm behavior.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkJSLoading|BenchmarkRequireLoading)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      flags:
        bench: ^(BenchmarkJSLoading|BenchmarkRequireLoading)$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 200ms
        count: "3"
        run: ^$
        timeout: 15m
      benchmarks:
        - name: BenchmarkJSLoading
          description: Measure compile/run costs across small, medium, and large scripts.
        - name: BenchmarkRequireLoading
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
    - id: p1-boundary-calls
      title: Go/JS Boundary Calls
      description: Measure JS->Go and Go->JS call overhead and logging mode deltas.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkJSCallingGo|BenchmarkGoCallingJS)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      flags:
        bench: ^(BenchmarkJSCallingGo|BenchmarkGoCallingJS)$
        bench-package: ./perf/goja
        benchmem: "true"
        benchtime: 200ms
        count: "3"
        run: ^$
        timeout: 15m
      benchmarks:
        - name: BenchmarkJSCallingGo
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
        - name: BenchmarkGoCallingJS
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
results:
    - id: p1-runtime-lifecycle
      task_title: Runtime Lifecycle
      task_description: Measure VM spawn and spawn+execute/reuse behavior.
      benchmark_definitions:
        - name: BenchmarkRuntimeSpawn
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
        - name: BenchmarkRuntimeSpawnAndExecute
          description: Measure cost of creating a runtime and immediately executing one script/program.
        - name: BenchmarkRuntimeReuse
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkRuntimeSpawn|BenchmarkRuntimeSpawnAndExecute|BenchmarkRuntimeReuse)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      output_file: ttmp/2026/02/18/GJ-01-PERF--goja-performance-measurement-plan/various/phase1-task-output/p1-runtime-lifecycle.txt
      duration_ms: 33628
      success: true
      exit_code: 0
      samples:
        - benchmark: BenchmarkRuntimeSpawn/GojaNew-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 248725
          metrics:
            B/op: 1760
            allocs/op: 8
            ns/op: 1129
          raw_line: "BenchmarkRuntimeSpawn/GojaNew-8     \t  248725\t      1129 ns/op\t    1760 B/op\t       8 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/GojaNew-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 224350
          metrics:
            B/op: 1760
            allocs/op: 8
            ns/op: 1242
          raw_line: "BenchmarkRuntimeSpawn/GojaNew-8     \t  224350\t      1242 ns/op\t    1760 B/op\t       8 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/GojaNew-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 282044
          metrics:
            B/op: 1760
            allocs/op: 8
            ns/op: 1206
          raw_line: "BenchmarkRuntimeSpawn/GojaNew-8     \t  282044\t      1206 ns/op\t    1760 B/op\t       8 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 10000
          metrics:
            B/op: 12149
            allocs/op: 145
            ns/op: 25255
          raw_line: "BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8         \t   10000\t     25255 ns/op\t   12149 B/op\t     145 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 11060
          metrics:
            B/op: 12133
            allocs/op: 145
            ns/op: 29692
          raw_line: "BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8         \t   11060\t     29692 ns/op\t   12133 B/op\t     145 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 11803
          metrics:
            B/op: 12147
            allocs/op: 145
            ns/op: 21462
          raw_line: "BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8         \t   11803\t     21462 ns/op\t   12147 B/op\t     145 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_WithCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 590
          metrics:
            B/op: 19080
            allocs/op: 328
            ns/op: 381684
          raw_line: "BenchmarkRuntimeSpawn/EngineNew_WithCallLog-8       \t     590\t    381684 ns/op\t   19080 B/op\t     328 allocs/op"
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_WithCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          iterations: 897
          metrics:
            B/op: 18606
            allocs/op: 328
            ns/op: 262527
          raw_line: "BenchmarkRuntimeSpawn/EngineNew_WithCallLog-8       \t     897\t    262527 ns/op\t   18606 B/op\t     328 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 9466
          metrics:
            B/op: 14547
            allocs/op: 194
            ns/op: 23006
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8         \t    9466\t     23006 ns/op\t   14547 B/op\t     194 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 7627
          metrics:
            B/op: 14548
            allocs/op: 194
            ns/op: 32531
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8         \t    7627\t     32531 ns/op\t   14548 B/op\t     194 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 10202
          metrics:
            B/op: 14548
            allocs/op: 194
            ns/op: 27745
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8         \t   10202\t     27745 ns/op\t   14548 B/op\t     194 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 12363
          metrics:
            B/op: 12443
            allocs/op: 151
            ns/op: 18711
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8        \t   12363\t     18711 ns/op\t   12443 B/op\t     151 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 12820
          metrics:
            B/op: 12441
            allocs/op: 151
            ns/op: 18623
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8        \t   12820\t     18623 ns/op\t   12441 B/op\t     151 allocs/op"
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          iterations: 12712
          metrics:
            B/op: 12437
            allocs/op: 151
            ns/op: 21159
          raw_line: "BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8        \t   12712\t     21159 ns/op\t   12437 B/op\t     151 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunString_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 53896
          metrics:
            B/op: 3328
            allocs/op: 41
            ns/op: 4000
          raw_line: "BenchmarkRuntimeReuse/RunString_ReusedRuntime-8                  \t   53896\t      4000 ns/op\t    3328 B/op\t      41 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunString_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 56521
          metrics:
            B/op: 3328
            allocs/op: 41
            ns/op: 4171
          raw_line: "BenchmarkRuntimeReuse/RunString_ReusedRuntime-8                  \t   56521\t      4171 ns/op\t    3328 B/op\t      41 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunString_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 65359
          metrics:
            B/op: 3328
            allocs/op: 41
            ns/op: 3800
          raw_line: "BenchmarkRuntimeReuse/RunString_ReusedRuntime-8                  \t   65359\t      3800 ns/op\t    3328 B/op\t      41 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 2391565
          metrics:
            B/op: 32
            allocs/op: 1
            ns/op: 97.35
          raw_line: "BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8                 \t 2391565\t        97.35 ns/op\t      32 B/op\t       1 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 2599214
          metrics:
            B/op: 32
            allocs/op: 1
            ns/op: 93.36
          raw_line: "BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8                 \t 2599214\t        93.36 ns/op\t      32 B/op\t       1 allocs/op"
        - benchmark: BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          iterations: 2257720
          metrics:
            B/op: 32
            allocs/op: 1
            ns/op: 112
          raw_line: "BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8                 \t 2257720\t       112.0 ns/op\t      32 B/op\t       1 allocs/op"
      summaries:
        - benchmark: BenchmarkRuntimeReuse/RunProgram_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          runs: 3
          metrics:
            - metric: B/op
              avg: 32
              min: 32
              max: 32
            - metric: allocs/op
              avg: 1
              min: 1
              max: 1
            - metric: ns/op
              avg: 100.90333333333332
              min: 93.36
              max: 112
        - benchmark: BenchmarkRuntimeReuse/RunString_ReusedRuntime-8
          description: Measure repeated execution on a reused runtime for RunString vs precompiled RunProgram.
          runs: 3
          metrics:
            - metric: B/op
              avg: 3328
              min: 3328
              max: 3328
            - metric: allocs/op
              avg: 41
              min: 41
              max: 41
            - metric: ns/op
              avg: 3990.3333333333335
              min: 3800
              max: 4171
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_NoCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          runs: 3
          metrics:
            - metric: B/op
              avg: 12143
              min: 12133
              max: 12149
            - metric: allocs/op
              avg: 145
              min: 145
              max: 145
            - metric: ns/op
              avg: 25469.666666666668
              min: 21462
              max: 29692
        - benchmark: BenchmarkRuntimeSpawn/EngineNew_WithCallLog-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          runs: 2
          metrics:
            - metric: B/op
              avg: 18843
              min: 18606
              max: 19080
            - metric: allocs/op
              avg: 328
              min: 328
              max: 328
            - metric: ns/op
              avg: 322105.5
              min: 262527
              max: 381684
        - benchmark: BenchmarkRuntimeSpawn/GojaNew-8
          description: Compare runtime creation costs, including calllog-enabled and calllog-disabled modes.
          runs: 3
          metrics:
            - metric: B/op
              avg: 1760
              min: 1760
              max: 1760
            - metric: allocs/op
              avg: 8
              min: 8
              max: 8
            - metric: ns/op
              avg: 1192.3333333333333
              min: 1129
              max: 1242
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunProgram_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          runs: 3
          metrics:
            - metric: B/op
              avg: 12440.333333333334
              min: 12437
              max: 12443
            - metric: allocs/op
              avg: 151
              min: 151
              max: 151
            - metric: ns/op
              avg: 19497.666666666668
              min: 18623
              max: 21159
        - benchmark: BenchmarkRuntimeSpawnAndExecute/RunString_FreshRuntime-8
          description: Measure cost of creating a runtime and immediately executing one script/program.
          runs: 3
          metrics:
            - metric: B/op
              avg: 14547.666666666666
              min: 14547
              max: 14548
            - metric: allocs/op
              avg: 194
              min: 194
              max: 194
            - metric: ns/op
              avg: 27760.666666666668
              min: 23006
              max: 32531
    - id: p1-loading-require
      task_title: Loading and Require
      task_description: Measure JS compile/load cost and require cold/warm behavior.
      benchmark_definitions:
        - name: BenchmarkJSLoading
          description: Measure compile/run costs across small, medium, and large scripts.
        - name: BenchmarkRequireLoading
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkJSLoading|BenchmarkRequireLoading)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      output_file: ttmp/2026/02/18/GJ-01-PERF--goja-performance-measurement-plan/various/phase1-task-output/p1-loading-require.txt
      duration_ms: 16796
      success: true
      exit_code: 0
      samples:
        - benchmark: BenchmarkJSLoading/Compile_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 3213
          metrics:
            B/op: 33730
            allocs/op: 503
            ns/op: 85843
          raw_line: "BenchmarkJSLoading/Compile_small-8         \t    3213\t     85843 ns/op\t   33730 B/op\t     503 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 3726
          metrics:
            B/op: 33728
            allocs/op: 503
            ns/op: 83753
          raw_line: "BenchmarkJSLoading/Compile_small-8         \t    3726\t     83753 ns/op\t   33728 B/op\t     503 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 2929
          metrics:
            B/op: 33728
            allocs/op: 503
            ns/op: 79111
          raw_line: "BenchmarkJSLoading/Compile_small-8         \t    2929\t     79111 ns/op\t   33728 B/op\t     503 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 1756
          metrics:
            B/op: 47684
            allocs/op: 685
            ns/op: 152625
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_small-8         \t    1756\t    152625 ns/op\t   47684 B/op\t     685 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 3646
          metrics:
            B/op: 47697
            allocs/op: 685
            ns/op: 95099
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_small-8         \t    3646\t     95099 ns/op\t   47697 B/op\t     685 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 2211
          metrics:
            B/op: 47695
            allocs/op: 685
            ns/op: 118135
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_small-8         \t    2211\t    118135 ns/op\t   47695 B/op\t     685 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 35216
          metrics:
            B/op: 1681
            allocs/op: 35
            ns/op: 6921
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8       \t   35216\t      6921 ns/op\t    1681 B/op\t      35 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 44040
          metrics:
            B/op: 1681
            allocs/op: 35
            ns/op: 5698
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8       \t   44040\t      5698 ns/op\t    1681 B/op\t      35 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 39790
          metrics:
            B/op: 1681
            allocs/op: 35
            ns/op: 6367
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8       \t   39790\t      6367 ns/op\t    1681 B/op\t      35 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 348
          metrics:
            B/op: 495048
            allocs/op: 7235
            ns/op: 749747
          raw_line: "BenchmarkJSLoading/Compile_medium-8                       \t     348\t    749747 ns/op\t  495048 B/op\t    7235 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 302
          metrics:
            B/op: 495048
            allocs/op: 7235
            ns/op: 763809
          raw_line: "BenchmarkJSLoading/Compile_medium-8                       \t     302\t    763809 ns/op\t  495048 B/op\t    7235 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 351
          metrics:
            B/op: 495048
            allocs/op: 7235
            ns/op: 734460
          raw_line: "BenchmarkJSLoading/Compile_medium-8                       \t     351\t    734460 ns/op\t  495048 B/op\t    7235 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 334
          metrics:
            B/op: 535770
            allocs/op: 8363
            ns/op: 861075
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_medium-8        \t     334\t    861075 ns/op\t  535770 B/op\t    8363 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 270
          metrics:
            B/op: 535777
            allocs/op: 8363
            ns/op: 3.167408e+06
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_medium-8        \t     270\t   3167408 ns/op\t  535777 B/op\t    8363 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 352
          metrics:
            B/op: 535763
            allocs/op: 8363
            ns/op: 733421
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_medium-8        \t     352\t    733421 ns/op\t  535763 B/op\t    8363 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 2484
          metrics:
            B/op: 28652
            allocs/op: 983
            ns/op: 89963
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8      \t    2484\t     89963 ns/op\t   28652 B/op\t     983 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 2403
          metrics:
            B/op: 28659
            allocs/op: 984
            ns/op: 112539
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8      \t    2403\t    112539 ns/op\t   28659 B/op\t     984 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 2276
          metrics:
            B/op: 28670
            allocs/op: 984
            ns/op: 108715
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8      \t    2276\t    108715 ns/op\t   28670 B/op\t     984 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 43
          metrics:
            B/op: 4.443584e+06
            allocs/op: 57429
            ns/op: 5.739867e+06
          raw_line: "BenchmarkJSLoading/Compile_large-8                        \t      43\t   5739867 ns/op\t 4443584 B/op\t   57429 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 40
          metrics:
            B/op: 4.443584e+06
            allocs/op: 57429
            ns/op: 6.309927e+06
          raw_line: "BenchmarkJSLoading/Compile_large-8                        \t      40\t   6309927 ns/op\t 4443584 B/op\t   57429 allocs/op"
        - benchmark: BenchmarkJSLoading/Compile_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 43
          metrics:
            B/op: 4.443584e+06
            allocs/op: 57429
            ns/op: 6.714896e+06
          raw_line: "BenchmarkJSLoading/Compile_large-8                        \t      43\t   6714896 ns/op\t 4443584 B/op\t   57429 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 36
          metrics:
            B/op: 4.684996e+06
            allocs/op: 65725
            ns/op: 7.092172e+06
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_large-8         \t      36\t   7092172 ns/op\t 4684996 B/op\t   65725 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 34
          metrics:
            B/op: 4.685e+06
            allocs/op: 65725
            ns/op: 6.185955e+06
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_large-8         \t      34\t   6185955 ns/op\t 4685000 B/op\t   65725 allocs/op"
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 38
          metrics:
            B/op: 4.685023e+06
            allocs/op: 65725
            ns/op: 7.552289e+06
          raw_line: "BenchmarkJSLoading/RunString_FreshRuntime_large-8         \t      38\t   7552289 ns/op\t 4685023 B/op\t   65725 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 295
          metrics:
            B/op: 244256
            allocs/op: 8344
            ns/op: 715740
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8       \t     295\t    715740 ns/op\t  244256 B/op\t    8344 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 324
          metrics:
            B/op: 242904
            allocs/op: 8326
            ns/op: 773570
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8       \t     324\t    773570 ns/op\t  242904 B/op\t    8326 allocs/op"
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          iterations: 339
          metrics:
            B/op: 242296
            allocs/op: 8318
            ns/op: 780757
          raw_line: "BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8       \t     339\t    780757 ns/op\t  242296 B/op\t    8318 allocs/op"
        - benchmark: BenchmarkRequireLoading/ColdRequire_NewRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 4920
          metrics:
            B/op: 34585
            allocs/op: 499
            ns/op: 68409
          raw_line: "BenchmarkRequireLoading/ColdRequire_NewRuntime-8          \t    4920\t     68409 ns/op\t   34585 B/op\t     499 allocs/op"
        - benchmark: BenchmarkRequireLoading/ColdRequire_NewRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 3927
          metrics:
            B/op: 34581
            allocs/op: 499
            ns/op: 55684
          raw_line: "BenchmarkRequireLoading/ColdRequire_NewRuntime-8          \t    3927\t     55684 ns/op\t   34581 B/op\t     499 allocs/op"
        - benchmark: BenchmarkRequireLoading/ColdRequire_NewRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 3706
          metrics:
            B/op: 34581
            allocs/op: 499
            ns/op: 63975
          raw_line: "BenchmarkRequireLoading/ColdRequire_NewRuntime-8          \t    3706\t     63975 ns/op\t   34581 B/op\t     499 allocs/op"
        - benchmark: BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 183224
          metrics:
            B/op: 552
            allocs/op: 10
            ns/op: 1187
          raw_line: "BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8       \t  183224\t      1187 ns/op\t     552 B/op\t      10 allocs/op"
        - benchmark: BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 213541
          metrics:
            B/op: 552
            allocs/op: 10
            ns/op: 1061
          raw_line: "BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8       \t  213541\t      1061 ns/op\t     552 B/op\t      10 allocs/op"
        - benchmark: BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          iterations: 220206
          metrics:
            B/op: 552
            allocs/op: 10
            ns/op: 985.9
          raw_line: "BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8       \t  220206\t       985.9 ns/op\t     552 B/op\t      10 allocs/op"
      summaries:
        - benchmark: BenchmarkJSLoading/Compile_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 4.443584e+06
              min: 4.443584e+06
              max: 4.443584e+06
            - metric: allocs/op
              avg: 57429
              min: 57429
              max: 57429
            - metric: ns/op
              avg: 6.254896666666667e+06
              min: 5.739867e+06
              max: 6.714896e+06
        - benchmark: BenchmarkJSLoading/Compile_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 495048
              min: 495048
              max: 495048
            - metric: allocs/op
              avg: 7235
              min: 7235
              max: 7235
            - metric: ns/op
              avg: 749338.6666666666
              min: 734460
              max: 763809
        - benchmark: BenchmarkJSLoading/Compile_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 33728.666666666664
              min: 33728
              max: 33730
            - metric: allocs/op
              avg: 503
              min: 503
              max: 503
            - metric: ns/op
              avg: 82902.33333333333
              min: 79111
              max: 85843
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 243152
              min: 242296
              max: 244256
            - metric: allocs/op
              avg: 8329.333333333334
              min: 8318
              max: 8344
            - metric: ns/op
              avg: 756689
              min: 715740
              max: 780757
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 28660.333333333332
              min: 28652
              max: 28670
            - metric: allocs/op
              avg: 983.6666666666666
              min: 983
              max: 984
            - metric: ns/op
              avg: 103739
              min: 89963
              max: 112539
        - benchmark: BenchmarkJSLoading/RunProgram_ReusedRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 1681
              min: 1681
              max: 1681
            - metric: allocs/op
              avg: 35
              min: 35
              max: 35
            - metric: ns/op
              avg: 6328.666666666667
              min: 5698
              max: 6921
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_large-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 4.685006333333333e+06
              min: 4.684996e+06
              max: 4.685023e+06
            - metric: allocs/op
              avg: 65725
              min: 65725
              max: 65725
            - metric: ns/op
              avg: 6.943472e+06
              min: 6.185955e+06
              max: 7.552289e+06
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_medium-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 535770
              min: 535763
              max: 535777
            - metric: allocs/op
              avg: 8363
              min: 8363
              max: 8363
            - metric: ns/op
              avg: 1.5873013333333333e+06
              min: 733421
              max: 3.167408e+06
        - benchmark: BenchmarkJSLoading/RunString_FreshRuntime_small-8
          description: Measure compile/run costs across small, medium, and large scripts.
          runs: 3
          metrics:
            - metric: B/op
              avg: 47692
              min: 47684
              max: 47697
            - metric: allocs/op
              avg: 685
              min: 685
              max: 685
            - metric: ns/op
              avg: 121953
              min: 95099
              max: 152625
        - benchmark: BenchmarkRequireLoading/ColdRequire_NewRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          runs: 3
          metrics:
            - metric: B/op
              avg: 34582.333333333336
              min: 34581
              max: 34585
            - metric: allocs/op
              avg: 499
              min: 499
              max: 499
            - metric: ns/op
              avg: 62689.333333333336
              min: 55684
              max: 68409
        - benchmark: BenchmarkRequireLoading/WarmRequire_ReusedRuntime-8
          description: Measure module loading overhead in cold runtime and warm cached runtime paths.
          runs: 3
          metrics:
            - metric: B/op
              avg: 552
              min: 552
              max: 552
            - metric: allocs/op
              avg: 10
              min: 10
              max: 10
            - metric: ns/op
              avg: 1077.9666666666667
              min: 985.9
              max: 1187
    - id: p1-boundary-calls
      task_title: Go/JS Boundary Calls
      task_description: Measure JS->Go and Go->JS call overhead and logging mode deltas.
      benchmark_definitions:
        - name: BenchmarkJSCallingGo
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
        - name: BenchmarkGoCallingJS
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
      command: go
      args:
        - test
        - ./perf/goja
        - -run
        - ^$
        - -bench
        - ^(BenchmarkJSCallingGo|BenchmarkGoCallingJS)$
        - -count
        - "3"
        - -benchtime
        - 200ms
        - -benchmem
        - -timeout
        - 15m
      output_file: ttmp/2026/02/18/GJ-01-PERF--goja-performance-measurement-plan/various/phase1-task-output/p1-boundary-calls.txt
      duration_ms: 9188
      success: true
      exit_code: 0
      samples:
        - benchmark: BenchmarkJSCallingGo/GoDirect-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 817754736
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.2838
          raw_line: "BenchmarkJSCallingGo/GoDirect-8         \t817754736\t         0.2838 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkJSCallingGo/GoDirect-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 876597498
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.266
          raw_line: "BenchmarkJSCallingGo/GoDirect-8         \t876597498\t         0.2660 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkJSCallingGo/GoDirect-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 936775401
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.284
          raw_line: "BenchmarkJSCallingGo/GoDirect-8         \t936775401\t         0.2840 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_vm_Set-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 155455
          metrics:
            B/op: 352
            allocs/op: 12
            ns/op: 2044
          raw_line: "BenchmarkJSCallingGo/JS_vm_Set-8        \t  155455\t      2044 ns/op\t     352 B/op\t      12 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_vm_Set-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 158508
          metrics:
            B/op: 352
            allocs/op: 12
            ns/op: 1378
          raw_line: "BenchmarkJSCallingGo/JS_vm_Set-8        \t  158508\t      1378 ns/op\t     352 B/op\t      12 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_vm_Set-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 298189
          metrics:
            B/op: 352
            allocs/op: 12
            ns/op: 1687
          raw_line: "BenchmarkJSCallingGo/JS_vm_Set-8        \t  298189\t      1687 ns/op\t     352 B/op\t      12 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_module_SetExport-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 131422
          metrics:
            B/op: 440
            allocs/op: 18
            ns/op: 2545
          raw_line: "BenchmarkJSCallingGo/JS_module_SetExport-8         \t  131422\t      2545 ns/op\t     440 B/op\t      18 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_module_SetExport-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 91920
          metrics:
            B/op: 440
            allocs/op: 18
            ns/op: 2716
          raw_line: "BenchmarkJSCallingGo/JS_module_SetExport-8         \t   91920\t      2716 ns/op\t     440 B/op\t      18 allocs/op"
        - benchmark: BenchmarkJSCallingGo/JS_module_SetExport-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          iterations: 104521
          metrics:
            B/op: 440
            allocs/op: 18
            ns/op: 3368
          raw_line: "BenchmarkJSCallingGo/JS_module_SetExport-8         \t  104521\t      3368 ns/op\t     440 B/op\t      18 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GoDirect-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 966914521
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.2492
          raw_line: "BenchmarkGoCallingJS/GoDirect-8                    \t966914521\t         0.2492 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GoDirect-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 938355259
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.2652
          raw_line: "BenchmarkGoCallingJS/GoDirect-8                    \t938355259\t         0.2652 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GoDirect-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 864187123
          metrics:
            B/op: 0
            allocs/op: 0
            ns/op: 0.2801
          raw_line: "BenchmarkGoCallingJS/GoDirect-8                    \t864187123\t         0.2801 ns/op\t       0 B/op\t       0 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GojaAssertFunction-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 935262
          metrics:
            B/op: 160
            allocs/op: 2
            ns/op: 414.9
          raw_line: "BenchmarkGoCallingJS/GojaAssertFunction-8          \t  935262\t       414.9 ns/op\t     160 B/op\t       2 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GojaAssertFunction-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 1000000
          metrics:
            B/op: 160
            allocs/op: 2
            ns/op: 352.3
          raw_line: "BenchmarkGoCallingJS/GojaAssertFunction-8          \t 1000000\t       352.3 ns/op\t     160 B/op\t       2 allocs/op"
        - benchmark: BenchmarkGoCallingJS/GojaAssertFunction-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 849697
          metrics:
            B/op: 160
            allocs/op: 2
            ns/op: 330.1
          raw_line: "BenchmarkGoCallingJS/GojaAssertFunction-8          \t  849697\t       330.1 ns/op\t     160 B/op\t       2 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 173482
          metrics:
            B/op: 248
            allocs/op: 8
            ns/op: 1164
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8         \t  173482\t      1164 ns/op\t     248 B/op\t       8 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 278812
          metrics:
            B/op: 248
            allocs/op: 8
            ns/op: 1476
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8         \t  278812\t      1476 ns/op\t     248 B/op\t       8 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 195763
          metrics:
            B/op: 248
            allocs/op: 8
            ns/op: 1567
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8         \t  195763\t      1567 ns/op\t     248 B/op\t       8 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 5031
          metrics:
            B/op: 970
            allocs/op: 25
            ns/op: 39865
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8     \t    5031\t     39865 ns/op\t     970 B/op\t      25 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 6469
          metrics:
            B/op: 970
            allocs/op: 25
            ns/op: 44742
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8     \t    6469\t     44742 ns/op\t     970 B/op\t      25 allocs/op"
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          iterations: 5301
          metrics:
            B/op: 970
            allocs/op: 25
            ns/op: 40776
          raw_line: "BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8     \t    5301\t     40776 ns/op\t     970 B/op\t      25 allocs/op"
      summaries:
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_NoLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          runs: 3
          metrics:
            - metric: B/op
              avg: 248
              min: 248
              max: 248
            - metric: allocs/op
              avg: 8
              min: 8
              max: 8
            - metric: ns/op
              avg: 1402.3333333333333
              min: 1164
              max: 1567
        - benchmark: BenchmarkGoCallingJS/CallLogCallJSFunction_SqliteLogger-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          runs: 3
          metrics:
            - metric: B/op
              avg: 970
              min: 970
              max: 970
            - metric: allocs/op
              avg: 25
              min: 25
              max: 25
            - metric: ns/op
              avg: 41794.333333333336
              min: 39865
              max: 44742
        - benchmark: BenchmarkGoCallingJS/GoDirect-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          runs: 3
          metrics:
            - metric: B/op
              avg: 0
              min: 0
              max: 0
            - metric: allocs/op
              avg: 0
              min: 0
              max: 0
            - metric: ns/op
              avg: 0.2648333333333333
              min: 0.2492
              max: 0.2801
        - benchmark: BenchmarkGoCallingJS/GojaAssertFunction-8
          description: Compare direct Go baseline against Go->JS calls with/without calllog wrappers.
          runs: 3
          metrics:
            - metric: B/op
              avg: 160
              min: 160
              max: 160
            - metric: allocs/op
              avg: 2
              min: 2
              max: 2
            - metric: ns/op
              avg: 365.7666666666667
              min: 330.1
              max: 414.9
        - benchmark: BenchmarkJSCallingGo/GoDirect-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          runs: 3
          metrics:
            - metric: B/op
              avg: 0
              min: 0
              max: 0
            - metric: allocs/op
              avg: 0
              min: 0
              max: 0
            - metric: ns/op
              avg: 0.27793333333333337
              min: 0.266
              max: 0.284
        - benchmark: BenchmarkJSCallingGo/JS_module_SetExport-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          runs: 3
          metrics:
            - metric: B/op
              avg: 440
              min: 440
              max: 440
            - metric: allocs/op
              avg: 18
              min: 18
              max: 18
            - metric: ns/op
              avg: 2876.3333333333335
              min: 2545
              max: 3368
        - benchmark: BenchmarkJSCallingGo/JS_vm_Set-8
          description: Compare direct Go baseline against calls crossing JS->Go boundary.
          runs: 3
          metrics:
            - metric: B/op
              avg: 352
              min: 352
              max: 352
            - metric: allocs/op
              avg: 12
              min: 12
              max: 12
            - metric: ns/op
              avg: 1703
              min: 1378
              max: 2044
summary:
    total_tasks: 3
    successful_tasks: 3
    failed_tasks: 0
    total_duration_ms: 59612
    total_duration_seconds: "59.612"
